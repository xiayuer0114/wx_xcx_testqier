webpackJsonp([33],{"0Ajr":function(t,a,e){a=t.exports=e("FZ+f")(!0),a.push([t.i,".map-wrap[data-v-899e8468]{height:100%;background-color:#fff}.map-wrap .map-main-wrap[data-v-899e8468]{width:100%;height:100%;position:fixed;padding-top:40px;overflow:hidden;background-color:#fff}.map-wrap .map-main-wrap .date[data-v-899e8468]{font-size:13px}.map-wrap .map-main-wrap .date .btn[data-v-899e8468]{vertical-align:middle;padding:.16rem 1rem;background-color:#4caf50;color:#fff}.map-wrap .map-main-wrap .date .btn-wrap[data-v-899e8468]{position:absolute;bottom:100px;width:100%}.map-wrap .map-main-wrap .date a.end[data-v-899e8468],.map-wrap .map-main-wrap .date a.start[data-v-899e8468]{cursor:pointer;opacity:.75;text-align:center;line-height:60px;background-color:#272822;width:50%;height:60px;position:absolute;z-index:888;bottom:0;color:#fff}.map-wrap .map-main-wrap .date a.end[data-v-899e8468]{right:0}","",{version:3,sources:["E:/项目/m-truckgogo/m-hongyanche/src/views/maintain/track/panel/map.vue"],names:[],mappings:"AACA,2BACE,YAAa,AACb,qBAAuB,CACxB,AACD,0CACE,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,iBAAkB,AAClB,gBAAiB,AACjB,qBAAuB,CACxB,AACD,gDACE,cAAgB,CACjB,AACD,qDACE,sBAAuB,AACvB,oBAAqB,AACrB,yBAA0B,AAC1B,UAAY,CACb,AACD,0DACE,kBAAmB,AACnB,aAAc,AACd,UAAY,CACb,AAcD,8GAZE,eAAgB,AAChB,YAAc,AACd,kBAAmB,AACnB,iBAAkB,AAClB,yBAA0B,AAC1B,UAAW,AACX,YAAa,AACb,kBAAmB,AACnB,YAAa,AACb,SAAU,AACV,UAAY,CAeb,AAbD,sDAYE,OAAS,CACV",file:"map.vue",sourcesContent:["\n.map-wrap[data-v-899e8468] {\n  height: 100%;\n  background-color: #fff;\n}\n.map-wrap .map-main-wrap[data-v-899e8468] {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  padding-top: 40px;\n  overflow: hidden;\n  background-color: #fff;\n}\n.map-wrap .map-main-wrap .date[data-v-899e8468] {\n  font-size: 13px;\n}\n.map-wrap .map-main-wrap .date .btn[data-v-899e8468] {\n  vertical-align: middle;\n  padding: .16rem 1rem;\n  background-color: #4caf50;\n  color: #fff;\n}\n.map-wrap .map-main-wrap .date .btn-wrap[data-v-899e8468] {\n  position: absolute;\n  bottom: 100px;\n  width: 100%;\n}\n.map-wrap .map-main-wrap .date a.start[data-v-899e8468] {\n  cursor: pointer;\n  opacity: 0.75;\n  text-align: center;\n  line-height: 60px;\n  background-color: #272822;\n  width: 50%;\n  height: 60px;\n  position: absolute;\n  z-index: 888;\n  bottom: 0;\n  color: #fff;\n}\n.map-wrap .map-main-wrap .date a.end[data-v-899e8468] {\n  cursor: pointer;\n  opacity: 0.75;\n  text-align: center;\n  line-height: 60px;\n  background-color: #272822;\n  width: 50%;\n  height: 60px;\n  position: absolute;\n  z-index: 888;\n  bottom: 0;\n  color: #fff;\n  right: 0;\n}\n"],sourceRoot:""}])},"0Z1L":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"clearfix h-wrap"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showBack,expression:"showBack"}],staticClass:"h-icon",on:{click:t.back}},[e("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.close,expression:"close"}],staticClass:"h-icon",on:{click:t.closeModal}},[e("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("div",{staticClass:"h-title"},[t._v(t._s(t.title))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSliders,expression:"showSliders"}],staticClass:"s-icon",on:{click:t.sliders}},[e("i",{staticClass:"fa fa-sliders",attrs:{"aria-hidden":"true"}})])])},i=[],r={render:n,staticRenderFns:i};a.a=r},"8sbt":function(t,a,e){var n=e("0Ajr");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("f2115a0a",n,!0)},FvBv:function(t,a,e){var n=e("ssCn");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("8b4a01b2",n,!0)},OJjx:function(t,a,e){"use strict";var n=e("hxP8"),i=e("QB53"),r=e("fkWs"),o=e("CPGk");a.a={name:"Track-Map",data:function(){return{startTime:"",endTime:"",startAddress:"",endAddress:"",addressList:""}},created:function(){e.i(r.a)()},mounted:function(){this.$nextTick(function(){document.getElementById("bMapWrap").style.height=e.i(o.h)("wrap-main","info")-55+"px"})},methods:{searchTrack:function(){var t=this;this.$indicator.open({text:"加载中"});var a=new Date(this.startTime).getTime()/1e3,n=new Date(this.endTime).getTime()/1e3;e.i(i.c)(this.$route.params.id,a,n).then(function(a){t.$indicator.close(),a.state?(t.$set(t,"addressList",a.data.list),t.$set(t,"startAddress",a.data.list[0]),t.$set(t,"endAddress",a.data.list[a.data.list.length-1]),t.createMap()):t.$Message.error(a.errormsg||"获取数据失败")}).catch(function(t){return console.log(t)})},createMap:function(){var t,a=[],e=new AMap.Map("Map",{resizeEnable:!0,center:this.startAddress,zoom:17});t=new AMap.Marker({map:e,position:this.startAddress,icon:"http://webapi.amap.com/images/car.png",offset:new AMap.Pixel(-26,-13),autoRotation:!0});var n=this;AMapUI.loadUI(["overlay/SimpleMarker"],function(t){new t({iconLabel:{innerHTML:"起点",style:{color:"#fff",fontSize:"14px"}},iconStyle:"green",map:e,position:n.startAddress}),new t({iconLabel:{innerHTML:"终点",style:{color:"#fff",fontSize:"14px"}},iconStyle:"red",map:e,position:n.endAddress})}),a=this.addressList;var i=(new AMap.Polyline({map:e,path:a,strokeColor:"#00A",strokeWeight:3}),new AMap.Polyline({map:e,strokeColor:"#F00",strokeWeight:3}));t.on("moving",function(t){i.setPath(t.passedPath)}),e.setFitView(),AMap.event.addDomListener(document.getElementById("start"),"click",function(){t.moveAlong(a,500)},!1),AMap.event.addDomListener(document.getElementById("pause"),"click",function(){t.pauseMove()},!1)}},components:{AppHeader:n.a}}},esMy:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"map-wrap"},[e("app-header",{attrs:{title:"行车轨迹",showBack:"true"}}),t._v(" "),e("div",{staticClass:"map-main-wrap",attrs:{id:"wrap-main"}},[e("div",{staticClass:"date",attrs:{id:"info"}},[e("label",[t._v("\n        开始:\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticStyle:{width:"6rem"},attrs:{type:"date"},domProps:{value:t.startTime},on:{input:function(a){a.target.composing||(t.startTime=a.target.value)}}})]),t._v(" "),e("label",[t._v("\n        结束:\n        "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.endTime,expression:"endTime"}],staticStyle:{width:"6rem"},attrs:{type:"date"},domProps:{value:t.endTime},on:{input:function(a){a.target.composing||(t.endTime=a.target.value)}}})]),t._v(" "),e("a",{staticClass:"btn",attrs:{href:"javascript:void(0)"},on:{click:t.searchTrack}},[t._v("搜索")]),t._v(" "),t._m(0)]),t._v(" "),t._m(1)])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"btn-wrap"},[e("a",{staticClass:"start",attrs:{href:"javascript:void(0)",id:"start"}},[t._v("开始")]),t._v(" "),e("a",{staticClass:"end",attrs:{href:"javascript:void(0)",id:"pause"}},[t._v("暂停")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap",attrs:{id:"Map"}},[e("div",{staticClass:"map",staticStyle:{height:"100%"},attrs:{id:"bMapWrap"}})])}],r={render:n,staticRenderFns:i};a.a=r},fkWs:function(t,a,e){"use strict";e.d(a,"a",function(){return n});var n=function(){var t=document.createElement("script"),a=document.createElement("script"),e=document.createElement("script");t.setAttribute("src","http://webapi.amap.com/maps?v=1.4.0&key=03e38808578f29e45817603e4cef1d56"),a.setAttribute("src","http://cache.amap.com/lbs/static/addToolbar.js"),e.setAttribute("src","http://webapi.amap.com/ui/1.0/main.js?v=1.0.11"),document.head.appendChild(t),document.head.appendChild(a),document.head.appendChild(e)}},"h/N8":function(t,a,e){"use strict";var n=e("IPo5");a.a={name:"App-Header",props:{title:{type:String},showBack:"",close:"",showSliders:""},beforeDestroy:function(){n.a.$off("clickCloseModal")},methods:{back:function(){this.$router.back()},closeModal:function(){n.a.$emit("clickCloseModal"),this.$parent.$emit("clickCloseModalBox")},sliders:function(){this.$parent.$emit("clickSliders")},goToOrder:function(){}}}},hxP8:function(t,a,e){"use strict";function n(t){e("FvBv")}var i=e("h/N8"),r=e("0Z1L"),o=e("VU/8"),s=n,c=o(i.a,r.a,s,"data-v-a193f550",null);a.a=c.exports},qFjP:function(t,a,e){"use strict";function n(t){e("8sbt")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("OJjx"),r=e("esMy"),o=e("VU/8"),s=n,c=o(i.a,r.a,s,"data-v-899e8468",null);a.default=c.exports},ssCn:function(t,a,e){a=t.exports=e("FZ+f")(!0),a.push([t.i,'.h-wrap[data-v-a193f550]{position:fixed;top:0;left:0;right:0;padding:.5rem;text-align:center;font-size:1rem;border-bottom:1px solid #eee;background-color:#6495ed;z-index:10;color:#fff}.h-wrap .h-icon[data-v-a193f550]{position:absolute;text-align:center;width:2rem}.h-wrap .h-title[data-v-a193f550]{font-weight:700}.h-wrap .s-icon[data-v-a193f550]{text-align:center;position:absolute;right:0;top:.5rem;width:4rem}.h-wrap .s-icon[data-v-a193f550]:after{content:"    \\7B5B\\9009";font-size:12px}',"",{version:3,sources:["E:/项目/m-truckgogo/m-hongyanche/src/components/header/header.vue"],names:[],mappings:"AACA,yBACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,6BAA8B,AAC9B,yBAAiC,AACjC,WAAY,AACZ,UAAa,CACd,AACD,iCACE,kBAAmB,AACnB,kBAAmB,AACnB,UAAY,CACb,AACD,kCACE,eAAkB,CACnB,AACD,iCACE,kBAAmB,AACnB,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,UAAY,CACb,AACD,uCACE,yBAAkB,AAClB,cAAgB,CACjB",file:"header.vue",sourcesContent:['\n.h-wrap[data-v-a193f550] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding: .5rem;\n  text-align: center;\n  font-size: 1rem;\n  border-bottom: 1px solid #eee;\n  background-color: cornflowerblue;\n  z-index: 10;\n  color: white;\n}\n.h-wrap .h-icon[data-v-a193f550] {\n  position: absolute;\n  text-align: center;\n  width: 2rem;\n}\n.h-wrap .h-title[data-v-a193f550] {\n  font-weight: bold;\n}\n.h-wrap .s-icon[data-v-a193f550] {\n  text-align: center;\n  position: absolute;\n  right: 0;\n  top: .5rem;\n  width: 4rem;\n}\n.h-wrap .s-icon[data-v-a193f550]:after {\n  content: "    筛选";\n  font-size: 12px;\n}\n'],sourceRoot:""}])}});
//# sourceMappingURL=33.8e2efce9c090bafe4d3d.js.map