webpackJsonp([35],{"5g0r":function(e,t,n){"use strict";function a(e){n("q+LM")}Object.defineProperty(t,"__esModule",{value:!0});var r=n("rfLX"),o=n("psBj"),i=n("VU/8"),A=a,c=i(r.a,o.a,A,"data-v-e06061e4",null);t.default=c.exports},"8L3w":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"forum-header-wrap"},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"menu-icon item"},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"},on:{click:e.clickMenu}})]),e._v(" "),n("h1",{staticClass:"item title"},[e._v("重卡汇-论坛")]),e._v(" "),n("router-link",{staticClass:"icons item",attrs:{to:"/message"}},[n("i",{staticClass:"fa fa-bell",attrs:{"aria-hidden":"true"}})])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"menu-box"},e._l(e.labels,function(t,a){return n("router-link",{key:a,attrs:{to:"/forum/list/"+t.label_id}},[e._v(e._s(t.cn))])}))])},r=[],o={render:a,staticRenderFns:r};t.a=o},FP3X:function(e,t,n){var a=n("IveM");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("e0662358",a,!0)},IveM:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,".forum-header-wrap[data-v-357fcb6a]{position:fixed;top:0;left:0;right:0;text-align:center;font-size:1rem;border-bottom:1px solid #eee;background-color:#6495ed;z-index:10}.forum-header-wrap .wrap[data-v-357fcb6a]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:.5rem}.forum-header-wrap .wrap .item[data-v-357fcb6a]{color:#fff;vertical-align:middle}.forum-header-wrap .wrap .title[data-v-357fcb6a]{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:1rem;padding:0;margin:0;text-align:center;color:#fff}.forum-header-wrap .wrap .icons[data-v-357fcb6a]{margin-top:.3rem}.forum-header-wrap .wrap .icons i[data-v-357fcb6a]{font-size:1rem;vertical-align:top}.forum-header-wrap .wrap .icons img[data-v-357fcb6a]{width:1.1rem;height:1.1rem;border-radius:50%}.forum-header-wrap .menu-box[data-v-357fcb6a]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.5rem;width:100%;border-color:#f0f4f6!important;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.11);box-shadow:0 1px 1px rgba(0,0,0,.11);margin:0;background:#fff}.forum-header-wrap .menu-box a[data-v-357fcb6a]{color:#333;padding:.4rem;border-bottom:3px solid #fff}","",{version:3,sources:["E:/项目/m-truckgogo/m-hongyanche/src/views/forum/forum-header.vue"],names:[],mappings:"AACA,oCACE,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,kBAAmB,AACnB,eAAgB,AAChB,6BAA8B,AAC9B,yBAAiC,AACjC,UAAY,CACb,AACD,0CACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,aAAe,CAChB,AACD,gDACE,WAAY,AACZ,qBAAuB,CACxB,AACD,iDACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,kBAAmB,AACnB,UAAY,CACb,AACD,iDACE,gBAAkB,CACnB,AACD,mDACE,eAAgB,AAChB,kBAAoB,CACrB,AACD,qDACE,aAAc,AACd,cAAe,AACf,iBAAmB,CACpB,AACD,8CACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,eAAgB,AACpB,cAAe,AACf,WAAY,AACZ,+BAAiC,AACjC,6CAAkD,AAC1C,qCAA0C,AAClD,SAAU,AACV,eAAiB,CAClB,AACD,gDACE,WAAY,AACZ,cAAe,AACf,4BAA8B,CAC/B",file:"forum-header.vue",sourcesContent:["\n.forum-header-wrap[data-v-357fcb6a] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n  font-size: 1rem;\n  border-bottom: 1px solid #eee;\n  background-color: cornflowerblue;\n  z-index: 10;\n}\n.forum-header-wrap .wrap[data-v-357fcb6a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: .5rem;\n}\n.forum-header-wrap .wrap .item[data-v-357fcb6a] {\n  color: #fff;\n  vertical-align: middle;\n}\n.forum-header-wrap .wrap .title[data-v-357fcb6a] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  font-size: 1rem;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  color: #fff;\n}\n.forum-header-wrap .wrap .icons[data-v-357fcb6a] {\n  margin-top: .3rem;\n}\n.forum-header-wrap .wrap .icons i[data-v-357fcb6a] {\n  font-size: 1rem;\n  vertical-align: top;\n}\n.forum-header-wrap .wrap .icons img[data-v-357fcb6a] {\n  width: 1.1rem;\n  height: 1.1rem;\n  border-radius: 50%;\n}\n.forum-header-wrap .menu-box[data-v-357fcb6a] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  padding: .5rem;\n  width: 100%;\n  border-color: #F0F4F6 !important;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.11);\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.11);\n  margin: 0;\n  background: #FFF;\n}\n.forum-header-wrap .menu-box a[data-v-357fcb6a] {\n  color: #333;\n  padding: .4rem;\n  border-bottom: 3px solid #FFF;\n}\n"],sourceRoot:""}])},KRnk:function(e,t,n){"use strict";n.d(t,"r",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"p",function(){return s}),n.d(t,"s",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"i",function(){return C}),n.d(t,"o",function(){return b}),n.d(t,"m",function(){return g}),n.d(t,"k",function(){return B}),n.d(t,"l",function(){return w}),n.d(t,"n",function(){return x}),n.d(t,"a",function(){return v}),n.d(t,"q",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"j",function(){return y});var a=n("//Fk"),r=n.n(a),o=n("mtWM"),i=n.n(o),A=n("imha"),c=function(e){return new r.a(function(t,n){i.a.post(A.q.getForumLabelList,{newpost:e}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},d=function(e,t){return new r.a(function(n,a){i.a.post(A.q.getPostsDetail,{forum_id:e,page:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},s=function(e,t){return new r.a(function(n,a){i.a.post(A.q.getForumPostsList,{label_id:e,page:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},u=function(){return new r.a(function(e,t){i.a.get(A.q.forumAd).then(function(t){return e(t.data)}).catch(function(e){return t(e)})})},l=function(e,t,n){return new r.a(function(a,r){i.a.post(A.q.sendForumPostsReply,{forum_id:e,content:t,pid:n}).then(function(e){return a(e.data)}).catch(function(e){return r(e)})})},f=function(e,t,n,a){return new r.a(function(r,o){i.a.post(A.q.createPosts,{label_id:e,title:t,content:n,forum_id:a}).then(function(e){return r(e.data)}).catch(function(e){return o(e)})})},p=function(e){return new r.a(function(t,n){i.a.post(A.q.getForumPersonCenter,{user_id:e}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},m=function(e,t,n,a,o){return new r.a(function(r,c){i.a.post(A.q.forumPersonCenterPostsList,{user_id:e,reply:t,apply:n,fail:a,page:o}).then(function(e){return r(e.data)}).catch(function(e){return c(e)})})},h=function(e){return new r.a(function(t,n){i.a.post(A.q.forumClickZan,{forum_id:e}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},C=function(e){return new r.a(function(t,n){i.a.post(A.q.forumClickCollect,{forum_id:e,class:2}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},b=function(e,t,n){return new r.a(function(a,r){i.a.post(A.q.forumPostsOkOrPassBtnUrl,{forum_id:e,approve:t,reason:n}).then(function(e){return a(e.data)}).catch(function(e){return r(e)})})},g=function(e,t){return new r.a(function(n,a){i.a.post(A.q.forumOperatingGoodOrNotGood,{forum_id:e,highlight:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},B=function(e,t){return new r.a(function(n,a){i.a.post(A.q.forumOperatingTopOrNotTop,{forum_id:e,top:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},w=function(e){return new r.a(function(t,n){i.a.post(A.q.forumRemovePosts,{forum_id:e}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},x=function(e,t){return new r.a(function(n,a){i.a.post(A.q.movePostsToLabel,{forum_id:e,label_id:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},v=function(){return new r.a(function(e,t){i.a.post(A.q.forumCheckIn).then(function(t){return e(t.data)}).catch(function(e){return t(e)})})},k=function(e,t){return new r.a(function(n,a){i.a.post(A.q.getForumPostsList,{type:e,label_id:t}).then(function(e){return n(e.data)}).catch(function(e){return a(e)})})},_=function(e){return new r.a(function(t,n){i.a.post(A.r.uploadImg,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return t(e.data)}).catch(function(e){return n(e)})})},y=function(e,t,n){return new r.a(function(a,r){i.a.post(A.q.forumReport,{id:e,type:t,reason:n}).then(function(e){return a(e.data)}).catch(function(e){return r(e)})})}},joAV:function(e,t,n){"use strict";t.a={name:"Forum-Header",props:{labels:Array},data:function(){return{showMenu:!1}},methods:{clickMenu:function(){this.showMenu=!this.showMenu}}}},lXJp:function(e,t,n){"use strict";function a(e){n("FP3X")}var r=n("joAV"),o=n("8L3w"),i=n("VU/8"),A=a,c=i(r.a,o.a,A,"data-v-357fcb6a",null);t.a=c.exports},psBj:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-wrap"},[n("forum-header",{attrs:{labels:e.labels}}),e._v(" "),n("div",{staticClass:"create-main"},[n("div",{staticClass:"head"},[n("router-link",{attrs:{to:"/forum"}},[e._v("论坛")]),e._v("\n      /\n      "),n("span",[e._v("新建帖子")])],1),e._v(" "),n("div",{staticClass:"select-box"},[n("label",[e._v("\n        请选择板块：\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"label"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.label=t.target.multiple?n:n[0]}}},e._l(e.labels,function(t,a){return n("option",{key:a,domProps:{value:t.label_id}},[e._v(e._s(t.cn))])}))])]),e._v(" "),n("div",{staticClass:"cont-wrap"},[n("div",{staticClass:"title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"cont"},[n("div",{staticClass:"editor",attrs:{id:"editor",contenteditable:"true"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})]),e._v(" "),n("div",{staticClass:"clearfix btn"},[n("div",{staticClass:"uploader-box",staticStyle:{width:"3rem",height:"3rem"}},[n("input",{ref:"upfile",attrs:{type:"file",id:"file"},on:{change:e.uploadFile}})]),e._v(" "),e.showCreateBtn?n("a",{staticClass:"send-btn",attrs:{href:"javascript:void(0)"},on:{click:e.sendPosts}},[n("strong",[e._v("发表新帖")])]):n("a",{staticClass:"send-btn",attrs:{href:"javascript:void(0)"},on:{click:e.sendEditPosts}},[n("strong",[e._v("提交")])])])])])],1)},r=[],o={render:a,staticRenderFns:r};t.a=o},"q+LM":function(e,t,n){var a=n("uhy2");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("a27d615a",a,!0)},rfLX:function(e,t,n){"use strict";var a=n("lXJp"),r=n("CPGk"),o=n("KRnk"),i=n("Au9i");n.n(i);t.a={name:"Posts-Create",data:function(){return{labels:[],label:"",title:"",content:"",showCreateBtn:!0}},created:function(){var e=this;if(this.getLabels(),"edit"===this.$route.params.id){this.showCreateBtn=!1;var t=n.i(r.d)("forum_id");n.i(o.d)(t).then(function(t){e.title=t.data.info.title,e.label=t.data.info.label_id,document.getElementById("editor").innerHTML=t.data.info.content})}},methods:{getLabels:function(){this.$set(this,"labels",JSON.parse(n.i(r.e)("labels")))},sendPosts:function(){var e=this;if(!this.label||!this.title)return n.i(i.Toast)("请输入完整");var t=document.getElementById("editor").innerHTML;n.i(o.e)(this.label,this.title,t).then(function(t){t.state?(n.i(i.Toast)("发帖成功"),e.$router.replace("/forum/list/"+e.label)):n.i(i.Toast)(t.erormsg||"发帖失败")})},sendEditPosts:function(){var e=this;if(!this.label||!this.title)return n.i(i.Toast)("请输入完整");var t=document.getElementById("editor").innerHTML;n.i(o.e)(this.label,this.title,t,n.i(r.d)("forum_id")).then(function(t){t.state?(n.i(i.Toast)("修改成功"),e.$router.replace("/forum/list/"+e.label)):n.i(i.Toast)(t.erormsg||"发帖失败")})},uploadFile:function(){var e=new FormData;e.append("0",this.$refs.upfile.files[0]),n.i(o.f)(e).then(function(e){if(e.state){var t=document.createElement("img");t.setAttribute("src",e.data.url),document.getElementById("editor").appendChild(t)}else n.i(i.Toast)(e.errormsg||"上传失败")}).catch(function(e){return console.log(e)})}},components:{ForumHeader:a.a}}},uhy2:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,'.create-wrap[data-v-e06061e4]{height:100%;background-color:#e5e5e5}.create-wrap .create-main[data-v-e06061e4]{width:100%;position:absolute;padding-top:50px;overflow:hidden;background-color:#e5e5e5}.create-wrap .create-main[data-v-e06061e4]:after{content:" ";height:5rem;display:block}.create-wrap .create-main .head[data-v-e06061e4]{padding:10px;background-color:#f6f6f6;border-radius:3px 3px 0 0;font-size:14px;color:#999}.create-wrap .create-main .head a[data-v-e06061e4]{color:#80bd01}.create-wrap .create-main .select-box[data-v-e06061e4]{background-color:#fff;padding:10px}.create-wrap .create-main .select-box label[data-v-e06061e4]{height:30px;display:block;line-height:30px}.create-wrap .create-main .select-box label select[data-v-e06061e4]{width:220px;border:1px solid #ccc;display:inline-block;height:30px;padding:4px 6px;margin-bottom:10px;font-size:14px;line-height:20px;color:#555;vertical-align:top;border-radius:4px}.create-wrap .create-main .cont-wrap[data-v-e06061e4]{padding:10px;background-color:#fff}.create-wrap .create-main .cont-wrap .title input[data-v-e06061e4]{width:98%;border:none;resize:none;height:30px;margin-bottom:1rem;border-radius:4px;-webkit-box-shadow:0 0 2px rgba(60,60,60,.5);box-shadow:0 0 2px rgba(60,60,60,.5);background:transparent}.create-wrap .create-main .cont-wrap .cont .editor[data-v-e06061e4]{width:100%;height:150px;overflow:hidden;border:1px solid #ddd}.create-wrap .create-main .cont-wrap .btn .send-btn[data-v-e06061e4]{margin-top:10px;float:right;margin-right:0;height:30px;background:#f60;color:#fff;font-size:14px;vertical-align:middle;-webkit-box-shadow:0 1px 0 #e5e5e5;box-shadow:0 1px 0 #e5e5e5}.create-wrap .create-main .cont-wrap .btn .send-btn strong[data-v-e06061e4]{line-height:30px;font-weight:700;padding:0 10px}',"",{version:3,sources:["E:/项目/m-truckgogo/m-hongyanche/src/views/forum/create/create.vue"],names:[],mappings:"AACA,8BACE,YAAa,AACb,wBAA0B,CAC3B,AACD,2CACE,WAAY,AACZ,kBAAmB,AACnB,iBAAkB,AAClB,gBAAiB,AACjB,wBAA0B,CAC3B,AACD,iDACE,YAAa,AACb,YAAa,AACb,aAAe,CAChB,AACD,iDACE,aAAc,AACd,yBAA0B,AAC1B,0BAA2B,AAC3B,eAAgB,AAChB,UAAY,CACb,AACD,mDACE,aAAe,CAChB,AACD,uDACE,sBAAuB,AACvB,YAAc,CACf,AACD,6DACE,YAAa,AACb,cAAe,AACf,gBAAkB,CACnB,AACD,oEACE,YAAa,AACb,sBAAuB,AACvB,qBAAsB,AACtB,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,eAAgB,AAChB,iBAAkB,AAClB,WAAY,AACZ,mBAAoB,AACpB,iBAAmB,CACpB,AACD,sDACE,aAAc,AACd,qBAAuB,CACxB,AACD,mEACE,UAAW,AACX,YAAa,AACb,YAAa,AACb,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,6CAAkD,AAC1C,qCAA0C,AAClD,sBAA6B,CAC9B,AACD,oEACE,WAAY,AACZ,aAAc,AACd,gBAAiB,AACjB,qBAAuB,CACxB,AACD,qEACE,gBAAiB,AACjB,YAAa,AACb,eAAgB,AAChB,YAAa,AACb,gBAAiB,AACjB,WAAa,AACb,eAAgB,AAChB,sBAAuB,AACvB,mCAAoC,AACpC,0BAA4B,CAC7B,AACD,4EACE,iBAAkB,AAClB,gBAAiB,AACjB,cAAgB,CACjB",file:"create.vue",sourcesContent:['\n.create-wrap[data-v-e06061e4] {\n  height: 100%;\n  background-color: #e5e5e5;\n}\n.create-wrap .create-main[data-v-e06061e4] {\n  width: 100%;\n  position: absolute;\n  padding-top: 50px;\n  overflow: hidden;\n  background-color: #e5e5e5;\n}\n.create-wrap .create-main[data-v-e06061e4]:after {\n  content: " ";\n  height: 5rem;\n  display: block;\n}\n.create-wrap .create-main .head[data-v-e06061e4] {\n  padding: 10px;\n  background-color: #f6f6f6;\n  border-radius: 3px 3px 0 0;\n  font-size: 14px;\n  color: #999;\n}\n.create-wrap .create-main .head a[data-v-e06061e4] {\n  color: #80bd01;\n}\n.create-wrap .create-main .select-box[data-v-e06061e4] {\n  background-color: #fff;\n  padding: 10px;\n}\n.create-wrap .create-main .select-box label[data-v-e06061e4] {\n  height: 30px;\n  display: block;\n  line-height: 30px;\n}\n.create-wrap .create-main .select-box label select[data-v-e06061e4] {\n  width: 220px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  height: 30px;\n  padding: 4px 6px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  line-height: 20px;\n  color: #555;\n  vertical-align: top;\n  border-radius: 4px;\n}\n.create-wrap .create-main .cont-wrap[data-v-e06061e4] {\n  padding: 10px;\n  background-color: #fff;\n}\n.create-wrap .create-main .cont-wrap .title input[data-v-e06061e4] {\n  width: 98%;\n  border: none;\n  resize: none;\n  height: 30px;\n  margin-bottom: 1rem;\n  border-radius: 4px;\n  -webkit-box-shadow: 0 0 2px rgba(60, 60, 60, 0.5);\n          box-shadow: 0 0 2px rgba(60, 60, 60, 0.5);\n  background: rgba(0, 0, 0, 0);\n}\n.create-wrap .create-main .cont-wrap .cont .editor[data-v-e06061e4] {\n  width: 100%;\n  height: 150px;\n  overflow: hidden;\n  border: 1px solid #ddd;\n}\n.create-wrap .create-main .cont-wrap .btn .send-btn[data-v-e06061e4] {\n  margin-top: 10px;\n  float: right;\n  margin-right: 0;\n  height: 30px;\n  background: #f60;\n  color: white;\n  font-size: 14px;\n  vertical-align: middle;\n  -webkit-box-shadow: 0 1px 0 #E5E5E5;\n  box-shadow: 0 1px 0 #E5E5E5;\n}\n.create-wrap .create-main .cont-wrap .btn .send-btn strong[data-v-e06061e4] {\n  line-height: 30px;\n  font-weight: 700;\n  padding: 0 10px;\n}\n'],sourceRoot:""}])}});
//# sourceMappingURL=35.2d831b2b0210d1a7e300.js.map